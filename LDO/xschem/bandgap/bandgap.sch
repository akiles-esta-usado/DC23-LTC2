v {xschem version=3.4.4 file_version=1.2
}
G {}
K {}
V {}
S {}
E {}
N 170 -660 170 -620 {
lab=VDD}
N 550 -660 550 -620 {
lab=VDD}
N 550 -560 550 -530 {
lab=stop}
N 170 -560 170 -530 {
lab=out}
N 170 -470 170 -360 {
lab=#net1}
N 170 -360 340 -360 {
lab=#net1}
N 340 -390 340 -360 {
lab=#net1}
N 370 -390 370 -360 {
lab=#net2}
N 370 -360 550 -360 {
lab=#net2}
N 550 -470 550 -360 {
lab=#net2}
N 170 -360 170 -320 {
lab=#net1}
N 170 -260 170 -230 {
lab=vbe}
N 550 -360 550 -230 {
lab=#net2}
N 210 -200 510 -200 {
lab=VSS}
N 170 -170 170 -140 {
lab=VSS}
N 170 -140 550 -140 {
lab=VSS}
N 550 -170 550 -140 {
lab=VSS}
N 360 -200 360 -140 {
lab=VSS}
N 370 -700 370 -660 {
lab=VDD}
N 360 -140 360 -100 {
lab=VSS}
N 280 -500 300 -500 {
lab=VDD}
N 440 -500 460 -500 {
lab=VSS}
N 110 -590 170 -590 {
lab=VDD}
N 110 -630 110 -590 {
lab=VDD}
N 110 -630 170 -630 {
lab=VDD}
N 550 -590 610 -590 {
lab=VDD}
N 610 -630 610 -590 {
lab=VDD}
N 550 -630 610 -630 {
lab=VDD}
N 90 -550 170 -550 {
lab=out}
N 280 -660 280 -500 {
lab=VDD}
N 210 -590 370 -590 {
lab=ota_out}
N 370 -590 510 -590 {
lab=ota_out}
N 170 -660 550 -660 {
lab=VDD}
N 460 -500 460 -140 {
lab=VSS}
N 750 -660 750 -630 {
lab=VDD}
N 550 -660 750 -660 {
lab=VDD}
N 750 -630 750 -620 {
lab=VDD}
N 690 -590 710 -590 {
lab=ota_out}
N 750 -590 820 -590 {
lab=VDD}
N 820 -660 820 -590 {
lab=VDD}
N 400 -340 400 -330 {
lab=#net3}
N 400 -390 400 -340 {
lab=#net3}
N 750 -560 750 -550 {
lab=#net3}
N 750 -550 750 -520 {
lab=#net3}
N 400 -330 750 -330 {
lab=#net3}
N 750 -520 750 -330 {
lab=#net3}
N 980 -660 980 -630 {
lab=VDD}
N 980 -630 980 -620 {
lab=VDD}
N 920 -590 940 -590 {
lab=ota_out}
N 980 -590 1050 -590 {
lab=VDD}
N 1050 -660 1050 -590 {
lab=VDD}
N 980 -660 1050 -660 {
lab=VDD}
N 980 -560 980 -550 {
lab=iref}
N 810 -660 980 -660 {
lab=VDD}
N 750 -660 810 -660 {
lab=VDD}
N 980 -550 980 -520 {
lab=iref}
N -150 -580 -100 -580 {
lab=#net4}
N -130 -580 -130 -530 {
lab=#net4}
N -190 -660 170 -660 {
lab=VDD}
N -190 -630 -190 -610 {
lab=VDD}
N -60 -630 -60 -610 {
lab=VDD}
N -60 -660 -60 -630 {
lab=VDD}
N -190 -660 -190 -630 {
lab=VDD}
N -190 -610 -190 -500 {
lab=VDD}
N -210 -580 -150 -580 {
lab=#net4}
N -250 -660 -250 -610 {
lab=VDD}
N -250 -660 -190 -660 {
lab=VDD}
N -130 -530 -130 -500 {
lab=#net4}
N -190 -470 -170 -470 {
lab=VDD}
N -190 -500 -190 -470 {
lab=VDD}
N -60 -550 -60 -530 {
lab=#net4}
N -130 -530 -60 -530 {
lab=#net4}
N -250 -550 -250 -360 {
lab=#net5}
N -280 -470 -250 -470 {
lab=#net5}
N -320 -440 -320 -360 {
lab=VSS}
N -250 -300 -250 -260 {
lab=VSS}
N -130 -440 -130 -260 {
lab=VSS}
N -250 -260 -130 -260 {
lab=VSS}
N -60 -580 0 -580 {
lab=VDD}
N 0 -660 -0 -580 {
lab=VDD}
N -320 -580 -250 -580 {
lab=VDD}
N -320 -660 -320 -580 {
lab=VDD}
N -320 -660 -250 -660 {
lab=VDD}
N -130 -470 -110 -470 {
lab=VDD}
N -110 -660 -110 -470 {
lab=VDD}
N -380 -470 -320 -470 {
lab=VSS}
N -380 -470 -380 -420 {
lab=VSS}
N -380 -420 -320 -420 {
lab=VSS}
N -250 -330 -210 -330 {
lab=VSS}
N -210 -330 -210 -260 {
lab=VSS}
N -210 -140 170 -140 {
lab=VSS}
N -210 -260 -210 -140 {
lab=VSS}
N -320 -360 -320 -260 {
lab=VSS}
N -320 -260 -250 -260 {
lab=VSS}
N -320 -530 -320 -500 {
lab=ota_out}
N 370 -610 370 -590 {
lab=ota_out}
N 370 -610 390 -610 {
lab=ota_out}
N -60 -530 -60 -300 {
lab=#net4}
N -60 -240 -60 -140 {
lab=VSS}
N -350 -330 -290 -330 {
lab=stop}
N 550 -550 600 -550 {
lab=stop}
N -370 -530 -320 -530 {
lab=ota_out}
N -350 -50 600 -50 {
lab=stop}
N -350 -330 -350 -50 {}
N 600 -550 600 -50 {}
C {symbols/pfet_03v3.sym} 530 -590 0 0 {name=M1
L=2u
W=3u
nf=1
m=8
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {symbols/pfet_03v3.sym} 190 -590 0 1 {name=M2
L=2u
W=3u
nf=1
m=8
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {ota-bandgap.sym} 370 -480 3 0 {name=X1}
C {symbols/pnp_10p00x10p00.sym} 190 -200 0 1 {name=Q1
model=pnp_05p00x05p00
spiceprefix=X
m=8}
C {symbols/pnp_10p00x10p00.sym} 530 -200 0 0 {name=Q2
model=pnp_05p00x05p00
spiceprefix=X
m=1}
C {devices/iopin.sym} 370 -700 2 0 {name=p1 sig_type=std_logic lab=VDD
}
C {devices/iopin.sym} 360 -100 0 0 {name=p2 sig_type=std_logic lab=VSS}
C {devices/lab_pin.sym} 150 -290 0 0 {name=l9 sig_type=std_logic lab=VDD
}
C {devices/lab_pin.sym} 150 -500 0 0 {name=l11 sig_type=std_logic lab=VDD
}
C {devices/lab_pin.sym} 530 -500 0 0 {name=l12 sig_type=std_logic lab=VDD
}
C {devices/iopin.sym} 90 -550 0 1 {name=p13 sig_type=std_logic lab=out
}
C {devices/lab_pin.sym} 170 -250 2 0 {name=l20 sig_type=std_logic lab=vbe
}
C {symbols/ppolyf_u.sym} 550 -500 0 0 {name=R8
W=1e-6
L=10e-6
model=ppolyf_u_1k
spiceprefix=X
m=1}
C {symbols/ppolyf_u.sym} 170 -500 0 0 {name=R1
W=1e-6
L=10e-6
model=ppolyf_u_1k
spiceprefix=X
m=1}
C {symbols/ppolyf_u.sym} 170 -290 0 0 {name=R2
W=1e-6
L=10e-6
model=ppolyf_u_1k
spiceprefix=X
m=9}
C {devices/code.sym} -140 -910 0 0 {name=MODELS
only_toplevel=true
place=header
format="tcleval( @value )"
value="
.include $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/design.ngspice
.lib $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/sm141064.ngspice typical
.lib $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/sm141064.ngspice mimcap_statistical
.lib $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/sm141064.ngspice cap_mim
.lib $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/sm141064.ngspice res_typical
.lib $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/sm141064.ngspice bjt_typical
.lib $env(PDK_ROOT)/$env(PDK)/libs.tech/ngspice/sm141064.ngspice moscap_typical
"}
C {symbols/pfet_03v3.sym} 730 -590 0 0 {name=M3
L=1u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {devices/lab_pin.sym} 390 -610 0 1 {name=p4 sig_type=std_logic lab=ota_out}
C {devices/lab_pin.sym} 690 -590 0 0 {name=p5 sig_type=std_logic lab=ota_out}
C {symbols/pfet_03v3.sym} 960 -590 0 0 {name=M4
L=1u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {devices/lab_pin.sym} 920 -590 0 0 {name=p6 sig_type=std_logic lab=ota_out}
C {devices/iopin.sym} 980 -520 1 0 {name=p7 sig_type=std_logic lab=iref
}
C {symbols/pfet_03v3.sym} -80 -580 0 0 {name=M6
L=0.5u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {symbols/pfet_03v3.sym} -230 -580 0 1 {name=M5
L=0.5u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {symbols/pfet_03v3.sym} -150 -470 0 0 {name=M7
L=0.5u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=pfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} -300 -470 0 1 {name=M8
L=0.5u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {symbols/nfet_03v3.sym} -270 -330 0 0 {name=M9
L=0.5u
W=1u
nf=1
m=1
ad="'int((nf+1)/2) * W/nf * 0.18u'"
pd="'2*int((nf+1)/2) * (W/nf + 0.18u)'"
as="'int((nf+2)/2) * W/nf * 0.18u'"
ps="'2*int((nf+2)/2) * (W/nf + 0.18u)'"
nrd="'0.18u / W'" nrs="'0.18u / W'"
sa=0 sb=0 sd=0
model=nfet_03v3
spiceprefix=X
}
C {devices/lab_pin.sym} -370 -530 0 0 {name=p3 sig_type=std_logic lab=ota_out}
C {symbols/cap_mim_2p0fF.sym} -60 -270 0 0 {name=C1
W=1e-6
L=1e-6
model=cap_mim_2f0fF
spiceprefix=X
m=1}
C {devices/iopin.sym} -350 -330 0 1 {name=p9 sig_type=std_logic lab=stop
}
